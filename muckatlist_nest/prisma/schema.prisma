generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model image {
  image_id    String       @id @db.VarChar(255)
  timestamp   DateTime?    @db.Date
  muckat_id   String?      @db.VarChar(255)
  muckat_list muckat_list? @relation(fields: [muckat_id], references: [muckat_id], onDelete: Cascade, onUpdate: NoAction, map: "FKdm6xyxaeyy5owi3ws8bu5rn70")

  @@index([muckat_id], map: "FKdm6xyxaeyy5owi3ws8bu5rn70")
}

model muckat_list {
  muckat_id       String            @id @db.VarChar(255)
  group_name      String?           @db.VarChar(255)
  room_master     Boolean?          @db.Bit(1)
  kakao_id        String?           @db.VarChar(255)
  image           image[]
  user_info       user_info?        @relation(fields: [kakao_id], references: [kakao_id], onDelete: Cascade, onUpdate: NoAction, map: "FKddvnjgnu96sumkkh847wjcvwp")
  muckat_memo     muckat_memo[]
  muckat_schedule muckat_schedule[]

  @@index([kakao_id], map: "FKddvnjgnu96sumkkh847wjcvwp")
}

model muckat_memo {
  muckat_id       String          @db.VarChar(255)
  restaurant_id   String          @db.VarChar(255)
  is_check        Boolean?        @db.Bit(1)
  restaurant_info restaurant_info @relation(fields: [restaurant_id], references: [restaurant_id], onDelete: Cascade, onUpdate: NoAction, map: "FK1jjs19k4xp54ufjd7d9d323h9")
  muckat_list     muckat_list     @relation(fields: [muckat_id], references: [muckat_id], onDelete: Cascade, onUpdate: NoAction, map: "FK69ypcea1ijd4rerwpst96yxuo")

  @@id([muckat_id, restaurant_id])
  @@index([restaurant_id], map: "FK1jjs19k4xp54ufjd7d9d323h9")
}

model muckat_schedule {
  schedule_id     String           @id @db.VarChar(255)
  timestamp       DateTime?        @db.Date
  muckat_id       String?          @db.VarChar(255)
  restaurant_id   String?          @db.VarChar(255)
  muckat_list     muckat_list?     @relation(fields: [muckat_id], references: [muckat_id], onDelete: Cascade, onUpdate: NoAction, map: "FKfq0ya6y160bpquvwa9vh0tkoq")
  restaurant_info restaurant_info? @relation(fields: [restaurant_id], references: [restaurant_id], onDelete: Cascade, onUpdate: NoAction, map: "FKm5c0q7yje371e8vhh2wmxp1y1")

  @@index([muckat_id], map: "FKfq0ya6y160bpquvwa9vh0tkoq")
  @@index([restaurant_id], map: "FKm5c0q7yje371e8vhh2wmxp1y1")
}

model restaurant_info {
  restaurant_id   String            @id @db.VarChar(255)
  address         String?           @db.VarChar(255)
  avg_grade       Float?
  category        String?           @db.VarChar(255)
  link            String?           @db.VarChar(255)
  phone_number    String?           @db.VarChar(255)
  restaurant_name String?           @db.VarChar(255)
  review_count    Int?
  muckat_memo     muckat_memo[]
  muckat_schedule muckat_schedule[]
  user_review     user_review[]
}

model university_info {
  university_name String      @id @db.VarChar(255)
  address         String?     @db.VarChar(255)
  position_x      Float?
  position_y      Float?
  user_info       user_info[]
}

model user_info {
  kakao_id        String           @id @db.VarChar(255)
  fcm_token       String?          @db.VarChar(255)
  user_id         String?          @db.VarChar(255)
  university_name String?          @db.VarChar(255)
  muckat_list     muckat_list[]
  university_info university_info? @relation(fields: [university_name], references: [university_name], onDelete: Cascade, onUpdate: NoAction, map: "FK9e1ab5ppk0i8s2ywln9s25qw5")
  user_review     user_review[]

  @@index([university_name], map: "FK9e1ab5ppk0i8s2ywln9s25qw5")
}

model user_review {
  user_review_id  String           @id @db.VarChar(255)
  details         String?          @db.VarChar(255)
  like_count      Int?
  star            Float?
  write_time      DateTime?        @db.Date
  restaurant_id   String?          @db.VarChar(255)
  kakao_id        String?          @db.VarChar(255)
  restaurant_info restaurant_info? @relation(fields: [restaurant_id], references: [restaurant_id], onDelete: Cascade, onUpdate: NoAction, map: "FKk5s9qoc9tescy10mlfmw06bbf")
  user_info       user_info?       @relation(fields: [kakao_id], references: [kakao_id], onDelete: Cascade, onUpdate: NoAction, map: "FKr4lyt8xch7fegkvsal1lk1s4r")

  @@index([restaurant_id], map: "FKk5s9qoc9tescy10mlfmw06bbf")
  @@index([kakao_id], map: "FKr4lyt8xch7fegkvsal1lk1s4r")
}
